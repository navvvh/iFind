<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>iFind Setup - Parallax</title>
    <link rel="stylesheet" href="../css/setup.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <!-- Parallax Background Layers -->
    <div class="parallax-layer parallax-layer-1">
        <div class="bg-circle bg-circle-1"></div>
        <div class="bg-circle bg-circle-2"></div>
    </div>
    
    <div class="parallax-layer parallax-layer-2">
        <div class="bg-circle bg-circle-3"></div>
        <div class="bg-circle bg-circle-4"></div>
    </div>
    
    <div class="parallax-layer parallax-layer-3">
        <div class="bg-circle bg-circle-5"></div>
        <!-- Floating dots -->
        <div class="floating-dot" style="top: 15%; left: 25%; animation-delay: 1.5s;"></div>
        <div class="floating-dot" style="top: 45%; left: 75%; animation-delay: 1.7s;"></div>
        <div class="floating-dot" style="top: 65%; left: 15%; animation-delay: 1.9s;"></div>
        <div class="floating-dot" style="top: 85%; left: 85%; animation-delay: 2.1s;"></div>
        <div class="floating-dot" style="top: 25%; left: 65%; animation-delay: 2.3s;"></div>
        <div class="floating-dot" style="top: 55%; left: 35%; animation-delay: 2.5s;"></div>
    </div>

    <div class="main-container">
        <!-- Header -->
        <div class="header">
            <div class="logo">iFind</div>
        </div>

        <!-- Setup Container -->
        <div class="setup-container">
            <!-- Hero Section -->
            <div class="hero-section">
                <h1 class="hero-title">Complete Your Profile</h1>
                <p class="hero-subtitle">Set up your iFind profile to help others recognize you when posting or claiming items on campus.</p>
            </div>

            <!-- Progress Section -->
            <div class="progress-section">
                <div class="progress-container">
                    <div class="progress-bar" id="progressBar"></div>
                </div>
                <div class="progress-text" id="progressText">0% Complete</div>
            </div>

            <!-- Setup Steps -->
            <div class="setup-steps">
                <!-- Step 1: Name -->
                <div class="setup-step">
                    <div class="step-content">
                        <div class="step-number">Step 01</div>
                        <h2 class="step-title">What's your name?</h2>
                        <p class="step-description">We've pre-filled this with your username, but feel free to change it to your preferred display name.</p>
                        <input type="text" class="input-field" id="nameInput" placeholder="Enter your full name">
                    </div>
                    <div class="element-3d">
                        <div class="pill-container">
                            <div class="pill-base">
                                <div class="pill-circle left" id="nameCircle"></div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Step 2: Profile Picture -->
                <div class="setup-step reverse">
                    <div class="step-content">
                        <div class="step-number">Step 02</div>
                        <h2 class="step-title">Choose your avatar</h2>
                        <p class="step-description">Select from our emoji avatars to help others recognize you.</p>
                    </div>
                    <div class="element-3d">
                        <div class="profile-3d">
                            <div class="avatar-container" id="profileAvatar">
                                <div class="avatar-base">
                                    👤
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Step 3: User Type -->
                <div class="setup-step">
                    <div class="step-content">
                        <div class="step-number">Step 03</div>
                        <h2 class="step-title">How will you use iFind?</h2>
                        <p class="step-description">Please select your role to help others identify you.</p>
                    </div>
                    <div class="element-3d">
                        <div class="pill-container">
                            <div class="pill-base">
                                <div class="pill-circle right" id="roleCircle"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Role Selection -->
            <div class="role-selection">
                <h3 class="role-title">Choose your role</h3>
                <div class="role-options">
                    <div class="role-option" data-role="student">
                        <img src="../assets/8.png" alt="role" class="role-image" width="250px">
                        <div class="role-label">Student</div>
                    </div>
                    <div class="role-option" data-role="faculty">
                        <img src="../assets/9.png" alt="role" class="role-image" width= "250px">
                        <div class="role-label">Faculty</div>
                    </div>
                </div>
                <div class="action-section">
                    <button class="next-btn" id="nextBtn" disabled>Complete Setup</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Enhanced Profile Picture Modal -->
    <div class="modal" id="avatarModal">
        <div class="modal-content">
            <div class="modal-header">
                <div class="modal-title">Choose your avatar</div>
                <button class="close-modal">&times;</button>
            </div>
            
            <!-- Emoji Avatar Grid Only -->
            <div class="emoji-section">
                <h4>Select an emoji avatar</h4>
                <div class="avatar-grid">
                    <div class="avatar-option avatar-1" data-avatar="1">👨‍💼</div>
                    <div class="avatar-option avatar-2" data-avatar="2">👩‍💼</div>
                    <div class="avatar-option avatar-3" data-avatar="3">👨‍🎓</div>
                    <div class="avatar-option avatar-4" data-avatar="4">👩‍🎓</div>
                    <div class="avatar-option avatar-5" data-avatar="5">👨‍🏫</div>
                    <div class="avatar-option avatar-6" data-avatar="6">👩‍🏫</div>
                    <div class="avatar-option avatar-7" data-avatar="7">👨‍💻</div>
                    <div class="avatar-option avatar-8" data-avatar="8">👩‍💻</div>
                    <div class="avatar-option avatar-9" data-avatar="9">🧑‍🎨</div>
                    <div class="avatar-option avatar-10" data-avatar="10">👨‍🔬</div>
                    <div class="avatar-option avatar-11" data-avatar="11">👩‍🔬</div>
                    <div class="avatar-option avatar-12" data-avatar="12">👨‍🎨</div>
                </div>
            </div>
            
            <div class="modal-actions">
                <button class="modal-btn cancel-btn">Cancel</button>
                <button class="modal-btn save-btn">Save</button>
            </div>
        </div>
    </div>

    <script src="../js/setup.js"></script>

    <script>
        // Enhanced role selection functionality
        document.addEventListener('DOMContentLoaded', function() {
            const roleOptions = document.querySelectorAll('.role-option');
            const nextBtn = document.getElementById('nextBtn');
            let selectedRole = null;

            roleOptions.forEach(option => {
                option.addEventListener('click', function() {
                    // Remove selected class from all options
                    roleOptions.forEach(opt => opt.classList.remove('selected'));
                    
                    // Add selected class to clicked option
                    this.classList.add('selected');
                    selectedRole = this.dataset.role;
                    
                    // Enable next button
                    nextBtn.disabled = false;
                    
                    // Add a subtle animation to confirm selection
                    this.style.animation = 'none';
                    setTimeout(() => {
                        this.style.animation = 'popIn 0.3s ease forwards';
                    }, 10);
                });

                // Enhanced hover effects
                option.addEventListener('mouseenter', function() {
                    if (!this.classList.contains('selected')) {
                        this.style.transform = 'translateY(-8px) scale(1.05)';
                    }
                });

                option.addEventListener('mouseleave', function() {
                    if (!this.classList.contains('selected')) {
                        this.style.transform = 'translateY(0) scale(1)';
                    }
                });
            });

            // Next button functionality
            nextBtn.addEventListener('click', function() {
                if (selectedRole) {
                    console.log('Selected role:', selectedRole);
                    // Add your navigation logic here
                    alert(`Setup complete! Selected role: ${selectedRole}`);
                }
            });
        });
    </script>

</body>
</html>

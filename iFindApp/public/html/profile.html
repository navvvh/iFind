<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Profile - iFind</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="../css/profile.css">
    <script src="../js/api-service.js" defer></script>
    <script src="../js/profile.js" defer></script>
</head>
<body>
    <div class="profile-nav">
        <button class="hamburger-menu" id="hamburger-menu">
            <i class="fas fa-bars"></i>
        </button>
        <div class="profile-nav-center">
            <img src="../assets/iFind.png" alt="iFind" width="90" height="auto">
        </div>
        <div class="profile-nav-right" id="profile-nav-avatar">
            <!-- Populated by JS -->
        </div>
    </div>

    <div class="sidebar" id="sidebar">
        <div class="sidebar-content">
            <div class="nav-item active" id="nav-profile">
                <i class="fas fa-user"></i>
                <span>Profile</span>
            </div>
            <div class="nav-item" id="nav-feed">
                <i class="fas fa-stream"></i>
                <span>Feed</span>
            </div>
            <div class="nav-item" id="nav-about">
                <i class="fas fa-info-circle"></i>
                <span>About iFind</span>
            </div>
            <div class="nav-item" id="nav-claimed">
                <i class="fas fa-check-circle"></i>
                <span>Claimed</span>
            </div>
        </div>
        <div class="sidebar-footer">
            <div class="nav-item" id="nav-logout">
                <i class="fas fa-sign-out-alt"></i>
                <span>Log Out</span>
            </div>
        </div>
    </div>

    <div class="profile-page">
        <div class="profile-content">
            <div class="profile-sidebar">
                <div class="profile-avatar-large"></div>
                <h1 class="profile-name-large">Loading...</h1>
                <div class="profile-username-large"></div>
                <div class="profile-role-large"></div>
                <div class="profile-divider"></div>
                <div class="profile-contact-label">CONTACT</div>
                <div class="profile-contact-value">
                    <a href="#" target="_blank"></a>
                </div>
                <button class="profile-edit-btn" id="edit-profile-btn">
                    <i class="fas fa-pencil-alt"></i> Edit Profile
                </button>
            </div>

            <div class="profile-main">
                <h2 class="profile-section-title">MY POSTS</h2>
                <div class="profile-posts" id="profile-posts">
                    <!-- Posts populated by JS -->
                </div>
            </div>
        </div>
    </div>

    <!-- Edit Profile Modal -->
    <div class="modal" id="edit-profile-modal" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <div class="modal-title">Edit Profile</div>
                <button class="close-modal" id="close-edit-profile-modal">Ã—</button>
            </div>
            <div class="modal-body">
                <form class="profile-edit-form" id="profile-edit-form">
                    <div class="profile-edit-avatar"><div class="default-avatar"></div></div>
                    <div class="form-group">
                        <label for="edit-name">Name</label>
                        <input type="text" id="edit-name" required>
                    </div>
                    <div class="form-group">
                        <label for="edit-username">Username</label>
                        <input type="text" id="edit-username" required>
                    </div>
                    <div class="form-group">
                        <label for="edit-contact">Contact (e.g., fb.com/your.name)</label>
                        <input type="text" id="edit-contact" required>
                    </div>
                    <div class="form-actions">
                        <button type="button" class="btn btn-secondary" id="cancel-edit-profile">Cancel</button>
                        <button type="submit" class="btn btn-primary">Save Changes</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Edit Post Modal (Copied from main.html) -->
    <div class="modal" id="edit-post-modal" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">Edit Post</h2>
                <button class="close-modal" id="close-edit-post-modal">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <form id="edit-post-form">
                <div class="modal-body">
                    <div class="form-group">
                        <label class="form-label" for="edit-type">Type</label>
                        <select class="form-select" id="edit-type" required>
                            <option value="">Select type</option>
                            <option value="found">Found</option>
                            <option value="lost">Lost</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label" for="edit-location">Campuses</label>
                        <select class="form-select" id="edit-location" required>
                            <option value="">Select Campuses</option>
                            <option value="Main Building">Main Building</option>
                            <option value="Annex Building">Annex Building</option>
                            <option value="Annex II Building">Annex II Building</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label" for="edit-description">Description</label>
                        <textarea class="form-textarea" id="edit-description" placeholder="Describe the item in detail..." required></textarea>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" id="cancel-edit-post">Cancel</button>
                    <button type="submit" class="btn btn-primary">Update Post</button>
                </div>
            </form>
        </div>
    </div>
</body>
</html>